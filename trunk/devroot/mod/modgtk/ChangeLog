2001-07-13  Chris Toshok  <toshok@ximian.com>

	* include/gtkdict.h: remove prototypes for the (now static) hook
	functions, and add one for nx_gtk_object_attach_hook.

	* src/gtkwindow.c (nx_gtk_window_new): use
	nx_gtk_object_attach_hook.

	* src/gtklabel.c (nx_gtk_label_new): use
	nx_gtk_object_attach_hook.

	* src/gtkbutton.c (nx_gtk_button_new): use
	nx_gtk_object_attach_hook.
	(nx_gtk_button_new_with_label): same.

	* src/gtkobject.c (nx_gtk_object_destroyed): make static, call
	nxo_hook_data_set so we don't try and gtk_object_destroy it in
	nx_gtk_object_delete.
	(nx_gtk_object_delete): remove the destroy handler before
	destroying the object.
	(nx_gtk_object_ref_iter): new function, ref the parent of the
	widget.
	(nx_gtk_object_attach_hook): new function, connect all the hook
	stuff and gtk destruction signals/functions.

2001-07-13  Chris Toshok  <toshok@ximian.com>

	* Cookfile.inc (MODGTK_MSRCS): add gtkobject.c

2001-07-13  Chris Toshok  <toshok@toshok.org>

	* src/modgtk.c (_cw_modgtk_init): rename from _cw_modnxgtk_init.

2001-07-12  Jason Evans  <jasone@canonware.com>

	* : Rename module from nxgtk to gtk.

2001-07-12  Chris Toshok  <toshok@toshok.org>

	* include/gtkdict.h: more prototypes.

	* src/gtksignal.c (nx_gtk_signal_marshal): create an array
	containing the signal args.

	* src/gtkobject.c (nx_gtk_object_destroyed): new function - going
	to be the destroyed signal, to hopefully get around both gtk+ and
	onyx trying to destroy the same object twice.
	(nx_gtk_object_delete): delete function for the nxgtk hook
	objects.

	* src/gtkbutton.c (nx_gtk_button_new): "_cw_hook_object" on
	widgets is the hook object.
	(nx_gtk_button_new_with_label): same.

	* src/gtklabel.c (nx_gtk_label_new): same.

	* src/gtkwindow.c (nx_gtk_window_new): same.

2001-07-11  Chris Toshok  <toshok@ximian.com>

	* src/gtkwindow.c (nx_gtk_window_new): store the hook object as
	named gtk-object-data.

	* src/gtklabel.c (nx_gtk_label_new): store the hook object as
	named gtk-object-data.

	* src/gtkbutton.c (nx_gtk_button_new): store the hook object as
	named gtk-object-data.
	(nx_gtk_button_new_with_label): same.

2001-07-10  Chris Toshok  <toshok@ximian.com>

	* src/modnxgtk.c (_cw_modnxgtk_init): set up our global signal
	marshaller and destroy function.

2001-07-10  Chris Toshok  <toshok@toshok.org>

	* include/gtkdict.h: remove the NxGtkSignalClosure typedef.

	* src/gtksignal.c (nx_gtk_signal_destroy): new function, free up
	the NxGtkSignalClosure.  Also, most the structure typedef here.

