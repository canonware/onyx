%-*-mode:latex-*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% <Copyright = jasone>
% <License>
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Version: <Version>
%
% stil portion of Canonware Software Manual.
%              
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\clearemptydoublepage
\chapter{stil}
\binname{stil} is a stand-alone stil interpreter, with an integrated command
line editor..  The stil language is documented in a separate
\htmlref{chapter}{stillang}, so this chapter documents only the differences from
the main stil language documentation.

\section{Usage}
\binname{stil} -h

\binname{stil} -V

\binname{stil} -e {\lt}expr{\gt}

\binname{stil} {\lt}file{\gt} [{\lt}args{\gt}]

\subsection{Options}
\begin{description}
\item[-e {\lt}expr{\gt}: ] Execute {\lt}expr{\gt} as stil code.
\item[-h: ] Display usage information and exit.
\item[-V: ] Display the version number and exit.
\end{description}

\section{Environment variables}
\begin{description}
\item[STIL\_EDITOR: ] By default, the command line editor uses emacs key
bindings.  Use this variable to explicitly set the key bindings to either
``emacs'' or ``vi''.
\end{description}

\section{Language differences}
If \binname{stil} is being run interactively:
\begin{itemize}
\item{The stop operator in currenterror is redefined to recursively execute the
stdin file in a stopped context in order to keep the interpreter from exiting on
error.  It is possible (though generally unlikely) for buffering of stdin to
cause strange things to occur; any additional program execution after an error
is a result of this.}
\item{The name resume is defined in the initial thread's localdict as an alias
to the stop operator.  Thus, when an error occurs, when the user is ready to
continue running after addressing any issues the error caused, resume can be
called as a more intuitive name for resuming.}
\item{The estackoverflow operator in errordict is redefined to call the quit
operator in order to avoid infinite recursion in the error handling machinery.
The need for this is a result of not exiting on error.}
\end{itemize}
