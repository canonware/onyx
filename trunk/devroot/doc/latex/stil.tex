%-*-mode:latex-*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% <Copyright = jasone>
% <License>
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Version: <Version>
%
% stil portion of Canonware Software Manual.
%              
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\clearemptydoublepage
\chapter{stil}
\label{stillang}

Stil stands for ``stack-based threaded interpreted language''.  Its closest
relative is Adobe PostScript, followed by Forth.  Experienced PostScript
programmers should find most aspects of stil familiar, but there are several
important differences.  This manual does not assume specific knowledge of other
programming languages, so stands as a definitive reference manual for stil.

Stil is different from most languages in that it is not compiled, but rather
consumed.  For example, there are mechanisms for creating the equivalent of
named procedures that can be called at a later time, but behind the scenes, the
code is actually being interpreted as it is scanned in such a way that an
executable object is created.  As such, stil is not suited for compilation,
native or byte code.  However, the language syntax is very simple and the
scanner/parser is extremely fast.

Stil is implemented as a C library that can be embedded in other programs.
Mechanisms are provided for extending the set of operators available.  This
manual only documents the base language; see application documentation for any
language extensions.

Following is a laundry list of language features that are discussed in more
detail later in this manual:

\begin{itemize}
\item{Stack-based.  There are no named variables as in procedural languages.
Operations are done using various stacks, so stil operations are coded in
postfix notation.}
\item{Threaded.  Stil's threading uses the native POSIX threads implementation
of the operating system.}
\item{Interpreted.  Stil code is never compiled, but is instead interpreted as
it is encountered.}
\item{Garbage-collected.  There is no need to manually track memory allocation,
since the interpreter has an integrated automatic mark and sweep garbage
collector.}
\end{itemize}

\section{Objects}

A stil object has three aspects: type, attribute, and value.

Objects fall into two categories according to type: simple and composite.  A
simple object takes up no memory of its own; it uses space within a stack,
array, or dictionary.  A composite object requires space of its own in addition
to the space taken up in stacks, arrays, or dictionaries to refer to the
composite object.  See Table~\ref{simple-composite} for object type
classifications.

\begin{table}[htb]
\begin{center}
\begin{tabular}{|l|l|}
\hline
Simple	& Composite	\\
\hline \hline
boolean	& array		\\
integer	& condition	\\
mark	& dict		\\
name	& file		\\
null	& hook		\\
operator & mutex	\\
	& stack		\\
        & string	\\
	& thread	\\
\hline
\end{tabular}
\label{simple-composite}
\end{center}
\caption{Simple and composite types}
\end{table}

There can be multiple references that refer to the same memory backing composite
objects.  In most cases, composite objects that refer to the same memory are
indistinguishable, but for arrays and strings, composite objects may only be
able to access a subset of the total memory backing them.  This behavior is
described in detail later.

All objects have a literal or executable attribute associated with them.
Composite objects each have their own attribute, even for composite objects that
share the same backing memory.  An object is either literal or executable.  When
an executable array, file, hook, name, operator, or string is encountered by the
interpreter, it is pushed onto the execution stack and executed; otherwise the
object is pushed onto the operand stack.  All other object types, regardless of
literal/executable attribute, are pushed onto the operand stack.

In practice, attributes are only useful for types that can be executed.
Attributes are not considered in equality test operations.

\begin{description}

\item[array: ] An array is an ordered sequence of objects of any type.  The
sequence of objects contained in an array is indexed starting at 0.  References
to existing arrays may be constructed such that a contiguous subsequence is
visible.  The following code creates such an array:

\begin{verbatim}
[0 1 2 3 4]
1 3 getinterval
\end{verbatim}

After the code executes, the array left on the stack looks like:

\begin{verbatim}
[1 2 3]
\end{verbatim}

\item[boolean: ] A boolean can have two values: true or false.

\item[condition: ] A condition is used for thread synchronization.  The standard
operations on a condition are to wait and to signal.

\item[dict: ] A dict (short for dictionary) is a collection of key/value pairs.
Other names for dictionaries include ``associative array'' and ``hash''.  A key
can be of any type, though in most cases, keys are of type name.  A value can
also be of any type.

\item[file: ] A file is a handle to an ordered sequence of bytes with a current
position.  Read and write permissions are set when a file object is created.

\item[hook: ] The hook type is not used by the core stil language.  It can be
used by applications that extend the interpreter as a container object.

\item[integer: ] An integer is a signed integer in the range $-2^{63}$ to
$2^{63} - 1$.

\item[mark: ] A mark is used as a stack marker for various stack operations.

\item[mutex: ] A mutex is a mutual exclusion lock.

\item[name: ] A name is a key that uniquely identifies a sequence of characters.
Two name objects that correspond to the same sequence of characters can be
compared for equality with the same approximate cost as comparing two integers
for equality.  Names are typically used as keys in dictionaries.

\item[null: ] A null has no significance other than its existence.

\item[operator: ] An operator is an operation that is built in to the
interpreter.

\item[stack: ] Stacks are the basis for stil.  An application can create, then
manipulate stacks in much the same way that the operand stack can be
manipulated.

\item[string: ] A string is an ordered sequence of 8 bit characters.  References
to substrings within an existing string can be created in the same way that
subarrays can be created.

\item[thread: ] Thread objects serve as handles for operations such as detaching
and joining.

\end{description}

\section{Syntax}

Stil's syntax is very simple in comparison to most languages.  The scanner and
parser are implemented as a human-understandable finite state machine (nested C
switch statements with a couple of auxiliary variables), which should give the
reader an idea of the simplicity of the language syntax.

CRLF (carriage return, linefeed) pairs are in all important cases converted to
linefeed during scanning.

The characters \%, /, [, ], \{, \}, (, ), `, ', {\lt}, and {\gt} are special.
In most cases, any of the special characters and whitespace (space, tab,
newline, form feed, null) terminate any preceding token.  All other characters
including non-printing characters are considered regular characters.

A comment starts with a \% character outside of a string context and extends to
the next newline, linefeed or formfeed.

Procedures are actually executable arrays, but stil provides special syntax for
declaring procedures.  Procedures are delimited by \{ and \}, and can be
nested.  Normally, the interpreter executes code as it is scanned, but inside of
procedure declarations, execution is deferred.  Instead of executing a procedure
body as it is encountered, the tokens of the procedure body are pushed onto the
operand stack until the closing \} is encountered, at which time an executable
array is constructed from the tokens in the procedure body and pushed onto the
operand stack.

A partial grammar specification, using BNF notation (where convenient) is as
follows:

\begin{description}
%\item[{\lt}{\gt} ::= ]

\item[{\lt}program{\gt} ::= ] {\lt}statement{\gt}

\item[{\lt}statement{\gt} ::= ] {\lt}procedure{\gt} {\lt}statement{\gt} {\pipe}
{\lt}object{\gt} {\lt}statement{\gt} {\pipe} $\epsilon$

\item[{\lt}procedure{\gt} ::= ] \{{\lt}statement{\gt}\}

\item[{\lt}object{\gt} ::= ] {\lt}integer{\gt} {\pipe} {\lt}name{\gt} {\pipe}
{\lt}string{\gt}

\item[{\lt}integer{\gt} ::= ] {\lt}dec\_integer{\gt} {\pipe}
{\lt}radix\_integer{\gt}

\item[{\lt}name{\gt} : ] Any token that cannot be interpreted as a number or a
string is interpreted as an executable name.  There are three syntaxes for
names: executable, literal and immediately evaluated.  Executable names are
looked up in the dictionary stack and executed (unless execution is deferred).
Literal names are simply pushed onto the operand stack.  Immediately evaluated
names are replaced by their values as defined in the dictionary stack, even if
execution is deferred.  Examples include:
\begin{verbatim}
foo     % executable
4noth3r % executable
/bar    % literal
//biz   % immediately evaluated
\end{verbatim}

\item[{\lt}string{\gt} ::= ] `'-delimited string.  Ticks may
be embedded in the string without escaping them, as long as the ticks are
matched.  The following sequences have special meaning when escaped by a
``{\bs}'' character:
	\begin{description}
	\item[` ] ` character.
	\item[' ] ' character.
	\item[{\bs} ] {\bs} character.
	\item[n ] New line.
	\item[r ] Carriage return.
	\item[t ] Tab.
	\item[b ] Backspace.
	\item[f ] Form feed.
	\item[xDD ] DD is hex encoding for a byte.
	\item[{\bs}n (newline) ] Ignore.
	\item[{\bs}r{\bs}n (carriage return, newline) ] Ignore.
	\end{description}
Examples include:
\begin{verbatim}
`'
`A string.'
`Balanced ` and ' are allowed.'
`An embedded \n newline.'
`Another embedded 
newline.'
`An ignored \
newline.'
`Manually escaped \` tick.'
\end{verbatim}

\item[{\lt}dec\_integer{\gt} : ] Signed integer in the range $-2^{63}$ to
$2^{63} - 1$.  The sign is optional.  Examples include:
\begin{verbatim}
0
42
-365
+17
\end{verbatim}

\item[{\lt}radix\_integer{\gt} : ] Integer with explicit base between 2 and 36,
inclusive, in the range $0$ to $2^{63} - 1$.  Integer digits are composed of
decimal numbers and lower case letters.  Examples include:
\begin{verbatim}
2#101
16#ff
10#42
9#18
35#7r3x
\end{verbatim}

\end{description}

Arrays do not have explicit syntactic support, but the [ and ] operators support
their construction.  Examples of array construction include:
\begin{verbatim}
[]
[0 `A string' `Another string.' true]
[5
42
false]
\end{verbatim}

Dictionaries do not have explicit syntactic support, but the {\lt} and
{\gt} operators support their construction.  Examples of dictionary
construction include:
\begin{verbatim}
<>
</answer 42 /question `Who knows' /translate {babelfish} >
\end{verbatim}

Stacks do not have explicit syntactic support, but the ( and ) operators support
their construction.  Examples of stack contstruction include:
\begin{verbatim}
()
(1 2 mark `a')
\end{verbatim}

\section{Stacks}

Stacks in stil are the core data structure that programs act on.  Stacks store
objects in a last in, first out (LIFO) fashion.  Stil includes a number of
operators that manipulate stacks.

Each stil thread has three program-visible stacks associated with it:
\begin{description}
\item[Operand stack: ] Most direct object manipulations are done using the
	operand stack.  Operators use the operand stack for inputs and outputs,
	and code generally uses the operand stack for a place to store objects
	as they are being manipulated.
\item[Dictionary stack: ] The dictionary stack is used for looking up names.
	Each thread starts with with four dictionaries on its dictionary stack,
	which are, from top to bottom:
	\begin{itemize}
	\item{userdict}
	\item{globaldict}
	\item{systemdict}
	\item{threaddict}
	\end{itemize}
	These dictionaries are discussed in detail later.
\item[Execution stack: ] The interpreter uses the execution stack to store
	objects that are being executed.  The application generally does not
	need to explicitly manipulate the execution stack, but its contents are
	accessible, mainly for debugging purposes.
\end{description}

The application can also create additional stacks and manipulate them in much
the same way as the operand stack can be manipulated.

\section{Execution}

During stil interpreter initialization, an object file object corresponding to
stdin is usually pushed onto the execution stack.  However, depending on how the
interpreter is invoked, the initial object on the execution stack may be a
different file than stdin or an executable string.  The interpreter loop can be
recursively invoked.  For example, if the following code is executed, the eval
operator recursively invokes the interpreter loop to interpret the string.
\begin{verbatim}
`2 2 add' cvx eval
\end{verbatim}

The depth of the execution stack directly corresponds to the recursion depth of
the interpreter.  Execution stack depth is limited in order to catch unbounded
recursion.

\section{Error handling}

The error handling mechanisms in stil are simple but flexible.  When an error
occurs, the following operations are performed:
\begin{enumerate}
\item{Find an error handler in errordict corresponding to the current error.}
\item{Unless the error is an interrupt or a timeout, push the object whose
execution caused the error onto the operand stack.}
\item{Execute the error handler.}
\item{Unless the error is an interrupt or a timeout, execute errordict's stop
operator.}
\end{enumerate}

\section{Threads}
\subsection{Implicit synchronization}
\subsection{Explicit synchronization}

\section{Memory management}
\subsection{Allocation}
\subsection{Garbage collection}

\section{Dictionary reference}
\subsection{Operator summary}

All operators built in to stil have corresponding names that are composed
entirely of lower case letters.  In order to avoid any possibility of namespace
collisions in future versions of stil, use at least one character that is not a
lower case letter in names (for example, capital letters, numbers, underscore,
etc.).

\subsection{currenterror}

\begin{longtable}{|r|l|l|p{4in}|}
\caption[currenterror summary]{currenterror summary by functional group}
\\
\hline
Input(s) & Op/Proc/Var & Output(s) & Description \\
\hline \hline
%begin{latexonly}
\endfirsthead
\caption[]{\emph{continued}} \\
\hline
Input(s) & Op/Proc/Var & Output(s) & Description \\
\hline \hline \endhead
\hline
\multicolumn{4}{r}{\emph{Continued on next page...}} \endfoot
\hline \endlastfoot
%end{latexonly}
\multicolumn{4}{|l|}{Control operators} \\
\hline \hline
& {\bf \htmlref{stop}{currenterror:stop}} & & \\
\hline
& {\bf \htmlref{recordstacks}{currenterror:recordstacks}} & & \\
\hline \hline
\multicolumn{4}{|l|}{State operators} \\
\hline \hline
& {\bf \htmlref{newerror}{currenterror:newerror}} & & \\
\hline
& {\bf \htmlref{errorname}{currenterror:errorname}} & & \\
\hline
& {\bf \htmlref{command}{currenterror:command}} & & \\
\hline
& {\bf \htmlref{ostack}{currenterror:ostack}} & & \\
\hline
& {\bf \htmlref{estack}{currenterror:estack}} & & \\
\hline
& {\bf \htmlref{dstack}{currenterror:dstack}} & & \\
\end{longtable}

\subsection{envdict}
\subsection{errordict}

\begin{longtable}{|r|l|l|p{4in}|}
\caption{errordict summary} \\
\hline
Input(s) & Op/Proc/Var & Output(s) & Description \\
\hline \hline
%begin{latexonly}
\endfirsthead
\caption[]{\emph{continued}} \\
\hline
Input(s) & Op/Proc/Var & Output(s) & Description \\
\hline \hline \endhead
\hline
\multicolumn{4}{r}{\emph{Continued on next page...}} \endfoot
\hline \endlastfoot
%end{latexonly}
& {\bf \htmlref{dstackunderflow}{errordict:dstackunderflow}} & & \\
\hline
& {\bf \htmlref{estackunderflow}{errordict:estackunderflow}} & & \\
\hline
& {\bf \htmlref{handleerror}{errordict:handleerror}} & & \\
\hline
& {\bf \htmlref{interrupt}{errordict:interrupt}} & & \\
\hline
& {\bf \htmlref{invalidaccess}{errordict:invalidaccess}} & & \\
\hline
& {\bf \htmlref{invalidcontext}{errordict:invalidcontext}} & & \\
\hline
& {\bf \htmlref{invalidexit}{errordict:invalidexit}} & & \\
\hline
& {\bf \htmlref{invalidfileaccess}{errordict:invalidfileaccess}} & & \\
\hline
& {\bf \htmlref{ioerror}{errordict:ioerror}} & & \\
\hline
& {\bf \htmlref{limitcheck}{errordict:limitcheck}} & & \\
\hline
& {\bf \htmlref{rangecheck}{errordict:rangecheck}} & & \\
\hline
& {\bf \htmlref{stackunderflow}{errordict:stackunderflow}} & & \\
\hline
& {\bf \htmlref{syntaxerror}{errordict:syntaxerror}} & & \\
\hline
& {\bf \htmlref{timeout}{errordict:timeout}} & & \\
\hline
& {\bf \htmlref{typecheck}{errordict:typecheck}} & & \\
\hline
& {\bf \htmlref{undefined}{errordict:undefined}} & & \\
\hline
& {\bf \htmlref{undefinedfilename}{errordict:undefinedfilename}} & & \\
\hline
& {\bf \htmlref{undefinedresult}{errordict:undefinedresult}} & & \\
\hline
& {\bf \htmlref{unmatchedmark}{errordict:unmatchedmark}} & & \\
\hline
& {\bf \htmlref{unregistered}{errordict:unregistered}} & & \\
\hline
\end{longtable}

\subsection{gcdict}

\begin{longtable}{|r|l|l|p{4in}|}
\caption[gcdict summary]{gcdict summary by functional group}
\\
\hline
Input(s) & Op/Proc/Var & Output(s) & Description \\
\hline \hline
%begin{latexonly}
\endfirsthead
\caption[]{\emph{continued}} \\
\hline
Input(s) & Op/Proc/Var & Output(s) & Description \\
\hline \hline \endhead
\hline
\multicolumn{4}{r}{\emph{Continued on next page...}} \endfoot
\hline \endlastfoot
%end{latexonly}
\multicolumn{4}{|l|}{Control operators} \\
\hline \hline
& {\bf \htmlref{collect}{gcdict:collect}} & & \\
\hline
& {\bf \htmlref{setactive}{gcdict:setactive}} & & \\
\hline
& {\bf \htmlref{setperiod}{gcdict:setperiod}} & & \\
\hline
& {\bf \htmlref{setthreshold}{gcdict:setthreshold}} & & \\
\hline
& {\bf \htmlref{dump}{gcdict:dump}} & & \\
\hline \hline
\multicolumn{4}{|l|}{State operators} \\
\hline \hline
& {\bf \htmlref{active}{gcdict:active}} & & \\
\hline
& {\bf \htmlref{period}{gcdict:period}} & & \\
\hline
& {\bf \htmlref{threshold}{gcdict:threshold}} & & \\
\hline \hline
\multicolumn{4}{|l|}{Statistics operators} \\
\hline \hline
& {\bf \htmlref{collections}{gcdict:collections}} & & \\
\hline
& {\bf \htmlref{new}{gcdict:new}} & & \\
\hline
& {\bf \htmlref{current}{gcdict:current}} & & \\
\hline
& {\bf \htmlref{maximum}{gcdict:maximum}} & & \\
\hline
& {\bf \htmlref{sum}{gcdict:sum}} & & \\
\end{longtable}

\subsection{globaldict}

All threads share the same globaldict, which is meant as a repository for
globally shared objects.  globaldict is empty when the stil interpreter is
initialized.

\subsection{systemdict}

All threads share the same systemdict, which contains most of the operators that
are of general use.  Although there are no mechanisms that prevent modification
of systemdict, programs should not normally need to modify systemdict, since
globaldict provides a place for storing globally shared objects.

\begin{longtable}{|r|l|l|p{3in}|}
\caption[systemdict summary]{systemdict summary by functional group} \\
\hline
Input(s) & Op/Proc/Var & Output(s) & Description \\
\hline \hline
%begin{latexonly}
\endfirsthead
\caption[]{\emph{continued}} \\
\hline
Input(s) & Op/Proc/Var & Output(s) & Description \\
\hline \hline \endhead
\hline
\multicolumn{4}{r}{\emph{Continued on next page...}} \endfoot
\hline \endlastfoot
%end{latexonly}
\multicolumn{4}{|l|}{Operand stack operators} \\
\hline \hline
\oparg{region} \oparg{count} \oparg{amount} & {\bf
\htmlref{roll}{systemdict:roll}} & \oparg{rolled} & Roll the top
\oparg{count} objects up by \oparg{amount}. \\
\hline
& {\bf \htmlref{mark}{systemdict:mark}} & & \\
\hline
& {\bf \htmlref{index}{systemdict:index}} & & \\
\hline
any & {\bf \htmlref{pop}{systemdict:pop}} & -- & Remove the top object from the
operand stack. \\
\hline
& {\bf \htmlref{clear}{systemdict:clear}} & & \\
\hline
& {\bf \htmlref{cleartomark}{systemdict:cleartomark}} & & \\
\hline
& {\bf \htmlref{count}{systemdict:count}} & & \\
\hline
& {\bf \htmlref{counttomark}{systemdict:counttomark}} & & \\
\hline
& {\bf \htmlref{dup}{systemdict:dup}} & & \\
\hline
& {\bf \htmlref{exch}{systemdict:exch}} & & \\
\hline \hline
\multicolumn{4}{|l|}{Execution, control, and execution stack operators} \\
\hline \hline
& {\bf \htmlref{waitpid}{systemdict:waitpid}} & & \\
\hline
& {\bf \htmlref{system}{systemdict:system}} & & \\
\hline
& {\bf \htmlref{stopped}{systemdict:stopped}} & & \\
\hline
& {\bf \htmlref{start}{systemdict:start}} & & \\
\hline
& {\bf \htmlref{stop}{systemdict:stop}} & & \\
\hline
& {\bf \htmlref{run}{systemdict:run}} & & \\
\hline
& {\bf \htmlref{repeat}{systemdict:repeat}} & & \\
\hline
& {\bf \htmlref{realtime}{systemdict:realtime}} & & \\
\hline
& {\bf \htmlref{quit}{systemdict:quit}} & & \\
\hline
nanoseconds & {\bf \htmlref{nsleep}{systemdict:nsleep}} & -- & Nanosleep. \\
\hline
& {\bf \htmlref{loop}{systemdict:loop}} & & \\
\hline
& {\bf \htmlref{if}{systemdict:if}} & & \\
\hline
& {\bf \htmlref{ifelse}{systemdict:ifelse}} & & \\
\hline
& {\bf \htmlref{fork}{systemdict:fork}} & & \\
\hline
& {\bf \htmlref{for}{systemdict:for}} & & \\
\hline
& {\bf \htmlref{exit}{systemdict:exit}} & & \\
\hline
& {\bf \htmlref{exec}{systemdict:exec}} & & \\
\hline
& {\bf \htmlref{estack}{systemdict:estack}} & & \\
\hline
& {\bf \htmlref{eval}{systemdict:eval}} & & \\
\hline
& {\bf \htmlref{countestack}{systemdict:countestack}} & & \\
\hline \hline
\multicolumn{4}{|l|}{Stack operators} \\
\hline \hline
& {\bf \htmlref{fino}{systemdict:fino}} & & \\
\hline
-- & {\bf \htmlref{(}{systemdict:sym_lp}} & fino & Begin a stack declaration. \\
\hline
fino objects & {\bf \htmlref{)}{systemdict:sym_rp}} & stack & Create a stack. \\
\hline
-- & {\bf \htmlref{stack}{systemdict:stack}} & stack & Create a stack. \\
\hline
stack object & {\bf \htmlref{spush}{systemdict:spush}} & stack & Push an object
onto a stack. \\
\hline
stack & {\bf \htmlref{scount}{systemdict:scount}} & stack count & Get the number
of objects on a stack. \\
\hline
& {\bf \htmlref{scounttomark}{systemdict:scounttomark}} & & \\
\hline
stack & {\bf \htmlref{sdup}{systemdict:sdup}} & stack & Duplicate an object. \\
\hline
stack index & {\bf \htmlref{sindex}{systemdict:sindex}} & stack & Duplicate
object in a stack at a given index. \\
\hline
& {\bf \htmlref{sexch}{systemdict:sexch}} & & \\
\hline
& {\bf \htmlref{sroll}{systemdict:sroll}} & & \\
\hline
stack & {\bf \htmlref{spop}{systemdict:spop}} & stack object & Pop an object off
a stack. \\
\hline
& {\bf \htmlref{sclear}{systemdict:sclear}} & & \\
\hline
& {\bf \htmlref{scleartomark}{systemdict:scleartomark}} & & \\
\hline \hline
\multicolumn{4}{|l|}{Polymorphic operators} \\
\hline \hline
[a] [b] & {\bf \htmlref{catenate}{systemdict:catenate}} & [a b] & \\
(a) (b) & {\bf \htmlref{catenate}{systemdict:catenate}} & (a b) & \\
`a' `b' & {\bf \htmlref{catenate}{systemdict:catenate}} & `ab' & \\
\hline
& {\bf \htmlref{token}{systemdict:token}} & & \\
\hline
& {\bf \htmlref{store}{systemdict:store}} & & \\
\hline
& {\bf \htmlref{put}{systemdict:put}} & & \\
\hline
& {\bf \htmlref{putinterval}{systemdict:putinterval}} & & \\
\hline
& {\bf \htmlref{length}{systemdict:length}} & & \\
\hline
& {\bf \htmlref{get}{systemdict:get}} & & \\
\hline
& {\bf \htmlref{getinterval}{systemdict:getinterval}} & & \\
\hline
& {\bf \htmlref{foreach}{systemdict:foreach}} & & \\
\hline
& {\bf \htmlref{copy}{systemdict:copy}} & & \\
\hline \hline
\multicolumn{4}{|l|}{Integer and math operators} \\
\hline \hline
& {\bf \htmlref{sub}{systemdict:sub}} & & \\
\hline
& {\bf \htmlref{srand}{systemdict:srand}} & & \\
\hline
& {\bf \htmlref{rand}{systemdict:rand}} & & \\
\hline
& {\bf \htmlref{neg}{systemdict:neg}} & & \\
\hline
& {\bf \htmlref{mod}{systemdict:mod}} & & \\
\hline
& {\bf \htmlref{mul}{systemdict:mul}} & & \\
\hline
& {\bf \htmlref{exp}{systemdict:exp}} & & \\
\hline
& {\bf \htmlref{abs}{systemdict:abs}} & & \\
\hline
& {\bf \htmlref{div}{systemdict:div}} & & \\
\hline
& {\bf \htmlref{add}{systemdict:add}} & & \\
\hline \hline
\multicolumn{4}{|l|}{String operators} \\
\hline \hline
& {\bf \htmlref{string}{systemdict:string}} & & \\
\hline \hline
\multicolumn{4}{|l|}{Array operators} \\
\hline \hline
& {\bf \htmlref{[}{systemdict:sym_lb}} & & \\
\hline
& {\bf \htmlref{]}{systemdict:sym_rb}} & & \\
\hline
& {\bf \htmlref{aload}{systemdict:aload}} & & \\
\hline
& {\bf \htmlref{array}{systemdict:array}} & & \\
\hline
& {\bf \htmlref{astore}{systemdict:astore}} & & \\
\hline \hline
\multicolumn{4}{|l|}{Dictionary and dictionary stack operators} \\
\hline \hline
& {\bf \htmlref{gcdict}{systemdict:gcdict}} & & \\
\hline
& {\bf \htmlref{globaldict}{systemdict:globaldict}} & & \\
\hline
& {\bf \htmlref{where}{systemdict:where}} & & \\
\hline
& {\bf \htmlref{undef}{systemdict:undef}} & & \\
\hline
& {\bf \htmlref{{\lt}{\lt}}{systemdict:sym_lt_lt}} & & \\
\hline
& {\bf \htmlref{{\gt}{\gt}}{systemdict:sym_gt_gt}} & & \\
\hline
& {\bf \htmlref{load}{systemdict:load}} & & \\
\hline
& {\bf \htmlref{known}{systemdict:known}} & & \\
\hline
& {\bf \htmlref{end}{systemdict:end}} & & \\
\hline
& {\bf \htmlref{dstack}{systemdict:dstack}} & & \\
\hline
& {\bf \htmlref{dict}{systemdict:dict}} & & \\
\hline
& {\bf \htmlref{def}{systemdict:def}} & & \\
\hline
& {\bf \htmlref{currentdict}{systemdict:currentdict}} & & \\
\hline
& {\bf \htmlref{countdstack}{systemdict:countdstack}} & & \\
\hline
& {\bf \htmlref{begin}{systemdict:begin}} & & \\
\hline
& {\bf \htmlref{cleardstack}{systemdict:cleardstack}} & & \\
\hline \hline
\multicolumn{4}{|l|}{File and filesystem operators} \\
\hline \hline
& {\bf \htmlref{truncate}{systemdict:truncate}} & & \\
\hline
& {\bf \htmlref{unlink}{systemdict:unlink}} & & \\
\hline
& {\bf \htmlref{write}{systemdict:write}} & & \\
\hline
& {\bf \htmlref{tell}{systemdict:tell}} & & \\
\hline
& {\bf \htmlref{test}{systemdict:test}} & & \\
\hline
& {\bf \htmlref{symlink}{systemdict:symlink}} & & \\
\hline
& {\bf \htmlref{stat}{systemdict:stat}} & & \\
\hline
& {\bf \htmlref{sprint}{systemdict:sprint}} & & \\
\hline
& {\bf \htmlref{seek}{systemdict:seek}} & & \\
\hline
& {\bf \htmlref{renamefile}{systemdict:renamefile}} & & \\
\hline
& {\bf \htmlref{read}{systemdict:read}} & & \\
\hline
& {\bf \htmlref{readline}{systemdict:readline}} & & \\
\hline
& {\bf \htmlref{pstack}{systemdict:pstack}} & & \\
\hline
& {\bf \htmlref{print}{systemdict:print}} & & \\
\hline
& {\bf \htmlref{open}{systemdict:open}} & & \\
\hline
& {\bf \htmlref{mkdir}{systemdict:mkdir}} & & \\
\hline
& {\bf \htmlref{link}{systemdict:link}} & & \\
\hline
& {\bf \htmlref{flush}{systemdict:flush}} & & \\
\hline
& {\bf \htmlref{flushfile}{systemdict:flushfile}} & & \\
\hline
path & {\bf \htmlref{cd}{systemdict:cd}} & -- & \\
\hline
-- & {\bf \htmlref{pwd}{systemdict:pwd}} & path & \\
\hline
path proc & {\bf \htmlref{dirforeach}{systemdict:dirforeach}} & -- & \\
\hline
& {\bf \htmlref{currentfile}{systemdict:currentfile}} & & \\
\hline
& {\bf \htmlref{bytesavailable}{systemdict:bytesavailable}} & & \\
\hline
& {\bf \htmlref{chmod}{systemdict:chmod}} & & \\
\hline
& {\bf \htmlref{chown}{systemdict:chown}} & & \\
\hline
& {\bf \htmlref{closefile}{systemdict:closefile}} & & \\
\hline \hline
\multicolumn{4}{|l|}{Logical and bitwise operators} \\
\hline \hline
& {\bf \htmlref{xor}{systemdict:xor}} & & \\
\hline
& {\bf \htmlref{shift}{systemdict:shift}} & & \\
\hline
& {\bf \htmlref{or}{systemdict:or}} & & \\
\hline
& {\bf \htmlref{not}{systemdict:not}} & & \\
\hline
& {\bf \htmlref{ne}{systemdict:ne}} & & \\
\hline
& {\bf \htmlref{le}{systemdict:le}} & & \\
\hline
& {\bf \htmlref{gt}{systemdict:gt}} & & \\
\hline
& {\bf \htmlref{eq}{systemdict:eq}} & & \\
\hline
& {\bf \htmlref{lt}{systemdict:lt}} & & \\
\hline
& {\bf \htmlref{ge}{systemdict:ge}} & & \\
\hline
& {\bf \htmlref{and}{systemdict:and}} & & \\
\hline \hline
\multicolumn{4}{|l|}{Type, conversion, and attribute operators} \\
\hline \hline
& {\bf \htmlref{type}{systemdict:type}} & & \\
\hline
& {\bf \htmlref{xcheck}{systemdict:xcheck}} & & \\
\hline
& {\bf \htmlref{lcheck}{systemdict:lcheck}} & & \\
\hline
& {\bf \htmlref{cvlit}{systemdict:cvlit}} & & \\
\hline
& {\bf \htmlref{cvn}{systemdict:cvn}} & & \\
\hline
& {\bf \htmlref{cvrs}{systemdict:cvrs}} & & \\
\hline
& {\bf \htmlref{cvs}{systemdict:cvs}} & & \\
\hline
& {\bf \htmlref{cvx}{systemdict:cvx}} & & \\
\hline \hline
\multicolumn{4}{|l|}{Threading and synchronization operators} \\
\hline \hline
& {\bf \htmlref{wait}{systemdict:wait}} & & \\
\hline
& {\bf \htmlref{thread}{systemdict:thread}} & & \\
\hline
& {\bf \htmlref{timedwait}{systemdict:timedwait}} & & \\
\hline
& {\bf \htmlref{unlock}{systemdict:unlock}} & & \\
\hline
& {\bf \htmlref{yield}{systemdict:yield}} & & \\
\hline
& {\bf \htmlref{trylock}{systemdict:trylock}} & & \\
\hline
& {\bf \htmlref{signal}{systemdict:signal}} & & \\
\hline
& {\bf \htmlref{self}{systemdict:self}} & & \\
\hline
& {\bf \htmlref{setlocking}{systemdict:setlocking}} & & \\
\hline
& {\bf \htmlref{mutex}{systemdict:mutex}} & & \\
\hline
mutex proc & {\bf \htmlref{monitor}{systemdict:mutex}} & -- & Evaluate an object
under the protection of a mutex. \\
\hline
& {\bf \htmlref{lock}{systemdict:lock}} & & \\
\hline
& {\bf \htmlref{join}{systemdict:join}} & & \\
\hline
& {\bf \htmlref{detach}{systemdict:detach}} & & \\
\hline
& {\bf \htmlref{currentlocking}{systemdict:currentlocking}} & & \\
\hline
& {\bf \htmlref{broadcast}{systemdict:broadcast}} & & \\
\hline
& {\bf \htmlref{condition}{systemdict:condition}} & & \\
\hline \hline
\multicolumn{4}{|l|}{Miscellaneous operators} \\
\hline \hline
& {\bf \htmlref{version}{systemdict:version}} & & \\
\hline
& {\bf \htmlref{product}{systemdict:product}} & & \\
\hline
& {\bf \htmlref{promptstring}{systemdict:promptstring}} & & \\
\hline
& {\bf \htmlref{handleerror}{systemdict:handleerror}} & & \\
\hline
& {\bf \htmlref{bind}{systemdict:bind}} & & \\
\hline
& {\bf \htmlref{\#!}{systemdict:sym_hash_bang}} & & \\
\hline
& {\bf \htmlref{!\#}{systemdict:sym_bang_hash}} & & \\
\hline
& {\bf \htmlref{bind}{systemdict:bind}} & & \\
\end{longtable}

\begin{description}
\label{systemdict:XXX}
\index{\stilop{}{XXX}{}}
\item[{\stilop{--}{XXX}{--}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[: ]
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[: ]
		\end{description}
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{XXX stackunderflow}{XXX stackunderflow}.]
		\end{description}
	\item[Description: ]
	\item[Example(s): ]\begin{verbatim}

		\end{verbatim}
	\end{description}
\label{systemdict:sym_lp}
\index{\stilop{}{(}{}}
\item[{\stilop{--}{(}{fino}}: ]
	\begin{description}\item[]
	\item[Input(s): ] None.
	\item[Output(s): ]
		\begin{description}\item[]
		\item[fino: ]
			A fino object.
		\end{description}
	\item[Errors(s): ] None.
	\item[Description: ]
		Push a fino object onto the operand stack to denote the bottom
		of a stack that has not yet been constructed.
	\item[Example(s): ]\begin{verbatim}

s:0> (
s:1> pstack
-fino-
s:1>
		\end{verbatim}
	\end{description}
\label{systemdict:sym_rp}
\index{\stilop{}{)}{}}
\item[{\stilop{fino objects}{)}{stack}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[fino: ]
			A fino object, usually created by the ) operator.
		\item[objects: ]
			0 or more objects.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[stack: ]
			A stack object.
		\end{description}
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{unmatchedfino}{unmatchedfino}.]
		\end{description}
	\item[Description: ]
		Create a stack object and move all objects from the operand
		stack down to the first fino object to the new stack.
	\item[Example(s): ]\begin{verbatim}

s:0> ()
s:1> 1 sprint
()
s:0> (1 2
s:3> pstack
2
1
-fino-
s:3> )
s:1> 1 sprint
(1 2)
s:0>
		\end{verbatim}
	\end{description}
\label{systemdict:catenate}
\index{\stilop{}{catenate}{}}
\item[{\stilop{[a] [b]}{catenate}{[a b]}}: ]
\item[{\stilop{(a) (b)}{catenate}{(a b)}}: ]
\item[{\stilop{`a' `b'}{catenate}{`ab'}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a: ]
			An array, stack, or string.
		\item[b: ]
			An array, stack, or string.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[ab: ]
			The catenation of \oparg{a} and \oparg{b}.
		\end{description}
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\item[\htmlref{typecheck}{typecheck}.]
		\end{description}
	\item[Description: ]
		Catenate two arrays, strings, or stacks.
	\item[Example(s): ]\begin{verbatim}

s:0> [`a'] [`b'] catenate
s:1> 1 sprint
[`a' `b']
s:0> (`a') (`b') catenate
s:1> 1 sprint
(`a' `b')
s:0> `a' `b' catenate
s:1> 1 sprint
`ab'
s:0>
		\end{verbatim}
	\end{description}
\label{systemdict:cd}
\index{\stilop{}{cd}{}}
\item[{\stilop{path}{cd}{--}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[path: ]
			A string that represents a filesystem path.
		\end{description}
	\item[Output(s): ] None.
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{invalidaccess}{invalidaccess}.]
		\item[\htmlref{ioerror}{ioerror}.]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\item[\htmlref{typecheck}{typecheck}.]
		\end{description}
	\item[Description: ]
		Change the present working directory to \oparg{path}.
	\item[Example(s): ]\begin{verbatim}

s:0> pwd 1 sprint
`/usr/local'
s:0> `bin' cd
s:0> pwd 1 sprint
`/usr/local/bin'
s:0>
		\end{verbatim}
	\end{description}
\label{systemdict:dirforeach}
\index{\stilop{}{dirforeach}{}}
\item[{\stilop{path proc}{dirforeach}{--}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[path: ]
			A string that represents a filesystem path.
		\item[proc: ]
			An object to be executed.
		\end{description}
	\item[Output(s): ] None.
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{invalidaccess}{invalidaccess}.]
		\item[\htmlref{ioerror}{ioerror}.]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\item[\htmlref{typecheck}{typecheck}.]
		\end{description}
	\item[Description: ]
		For each entry in the directory represented by \oparg{path},
		push a string that represents the entry onto ostack and
		execute \oparg{proc}.

		\stilop{}{dirforeach}{} catches \stilop{}{exit}{}, so that the
		loop can be cleanly terminated prematurely.
	\item[Example(s): ]\begin{verbatim}

s:0> pwd {1 sprint} dirforeach
`.'
`..'
`CVS'
`.cvsignore'
`Cookfile'
`Cookfile.inc'
`latex'
`ps'
`pdf'
`html'
s:0> pwd {`Cookfile.inc' search
     {pop `Yes: ' print 1 sprint pop exit}
     {`Not: ' print 1 sprint} ifelse
} dirforeach
Not: `.'
Not: `..'
Not: `CVS'
Not: `.cvsignore'
Not: `Cookfile'
Yes: `Cookfile.inc'
s:0>
		\end{verbatim}
	\end{description}
\label{systemdict:monitor}
\index{\stilop{}{monitor}{}}
\item[{\stilop{mutex proc}{monitor}{--}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[mutex: ]
			A mutex.
		\item[proc: ]
			Any object.
		\end{description}
	\item[Output(s): ] None.
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\item[\htmlref{typecheck}{typecheck}.]
		\end{description}
	\item[Description: ]
		Execute \oparg{proc} while holding \oparg{mutex}.
	\item[Example(s): ]\begin{verbatim}

s:0> mutex {`hello\n' print} monitor flush
hello
s:0>
		\end{verbatim}
	\end{description}
\label{systemdict:nsleep}
\index{\stilop{}{nsleep}{}}
\item[{\stilop{nanoseconds}{nsleep}{--}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[nanoseconds: ]
			Minimum number of nanoseconds to sleep.  Must be greater
			than 0.
		\end{description}
	\item[Output(s): ] None.
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{rangecheck}{rangecheck}.]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\item[\htmlref{typecheck}{typecheck}.]
		\end{description}
	\item[Description: ]
		Sleep for at least \oparg{nanoseconds} nanonseconds.
	\item[Example(s): ]\begin{verbatim}

s:0> 1000 nsleep
s:0>
		\end{verbatim}
	\end{description}
\label{systemdict:pop}
\index{\stilop{}{pop}{}}
\item[{\stilop{any}{pop}{--}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[any: ]
			Any object.
		\end{description}
	\item[Output(s): ] None.
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\end{description}
	\item[Description: ]
		Remove the top object off the operand stack and discard it.
	\item[Example(s): ]\begin{verbatim}

s:0> 1 2
s:2> pstack
2
1
s:2> pop
s:1> pstack
1
s:1>
		\end{verbatim}
	\end{description}
\label{systemdict:pwd}
\index{\stilop{}{pwd}{}}
\item[{\stilop{--}{pwd}{path}}: ]
	\begin{description}\item[]
	\item[Input(s): ] None.
	\item[Output(s): ]
		\begin{description}\item[]
		\item[path: ]
			A string that represents the present working directory.
		\end{description}
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{invalidaccess}{invalidaccess}.]
		\end{description}
	\item[Description: ]
		Push a string onto ostack that represents the present working
		directory.
	\item[Example(s): ]\begin{verbatim}

s:0> pwd
s:1> pstack
`/usr/local/bin'
s:1>
		\end{verbatim}
	\end{description}
\label{systemdict:roll}
\index{\stilop{}{roll}{}}
\item[{\stilop{region count amount}{roll}{rolled}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[region: ]
			0 or more objects to be rolled.
		\item[count: ]
			Number of objects in \oparg{region}.
		\item[amount: ]
			Amount by which to roll.  If positive, roll
			upward.  If negative, roll downward.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[rolled: ]
			Rolled version of \oparg{region}.
		\end{description}
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{rangecheck}{rangecheck}.]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\item[\htmlref{typecheck}{typecheck}.]
		\end{description}
	\item[Description: ]
		Roll the top \oparg{count} objects on the operand stack
		(not counting \oparg{count} and \oparg{amount}) by
		\oparg{amount} positions.  A positive \oparg{amount}
		indicates an upward roll, whereas a negative \oparg{amount}
		indicates a downward roll.
	\item[Example(s): ]\begin{verbatim}

s:0> 3 2 1 0 
s:4> pstack
0
1
2
3
s:4> 3 1 roll
s:4> pstack
1
2
0
3
s:4> 3 -2 roll
s:4> pstack
2
0
1
3
s:4> 4 0 roll
s:4> pstack
2
0
1
3
s:4>
		\end{verbatim}
	\end{description}
\label{systemdict:scount}
\index{\stilop{}{scount}{}}
\item[{\stilop{stack}{scount}{stack count}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[stack: ]
			A stack object.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[stack: ]
			The same stack as was passed in.
		\item[count: ]
			The number of objects on \oparg{stack}.
		\end{description}
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\item[\htmlref{typecheck}{typecheck}.]
		\end{description}
	\item[Description: ]
		Get the number of objects on \oparg{stack}.
	\item[Example(s): ]\begin{verbatim}

s:0> (1 2) scount
s:2> pstack
2
(1 2)
s:2>
		\end{verbatim}
	\end{description}
\label{systemdict:sdup}
\index{\stilop{}{sdup}{}}
\item[{\stilop{stack}{sdup}{stack}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[stack: ]
			A stack object.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[stack: ]
			The same stack as was passed in.
		\end{description}
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\item[\htmlref{typecheck}{typecheck}.]
		\end{description}
	\item[Description: ]
		Duplicate the top object on \oparg{stack} and push it onto
		\oparg{stack}.
	\item[Example(s): ]\begin{verbatim}

s:0> (1) sdup
s:1> pstack
(1 1)
s:1>
		\end{verbatim}
	\end{description}
\label{systemdict:sindex}
\index{\stilop{}{sindex}{}}
\item[{\stilop{stack index}{sindex}{stack}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[stack: ]
			A stack object.
		\item[index: ]
			Depth (count starts at 0) of the object to duplicate in
			\oparg{stack}.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[stack: ]
			The same stack as was passed in.
		\end{description}
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{rangecheck}{rangecheck}.]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\item[\htmlref{typecheck}{typecheck}.]
		\end{description}
	\item[Description: ]
		Create a duplicate of the object on \oparg{stack} at depth
		\oparg{index} and push it onto \oparg{stack}.
	\item[Example(s): ]\begin{verbatim}

s:0> (3 2 1 0) 2 sindex
s:1> pstack
(3 2 1 0 2)
s:1>
		\end{verbatim}
	\end{description}
\label{systemdict:spop}
\index{\stilop{}{spop}{}}
\item[{\stilop{stack}{spop}{stack object}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[stack: ]
			A stack object.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[stack: ]
			The same stack as was passed in.
		\item[object: ]
			The object that was popped off of \oparg{stack}.
		\end{description}
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\item[\htmlref{typecheck}{typecheck}.]
		\end{description}
	\item[Description: ]
		Pop an object off of \oparg{stack} and push it onto ostack.
	\item[Example(s): ]\begin{verbatim}

s:0> (1 2) spop
s:2> pstack
2
(1)
s:2>
		\end{verbatim}
	\end{description}
\label{systemdict:spush}
\index{\stilop{}{spush}{}}
\item[{\stilop{stack object}{spush}{stack}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[stack: ]
			A stack object.
		\item[object: ]
			An object.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[stack: ]
			The same stack as was passed in.
		\end{description}
	\item[Errors(s): ]
		\begin{description}\item[]
		\item[\htmlref{stackunderflow}{stackunderflow}.]
		\item[\htmlref{typecheck}{typecheck}.]
		\end{description}
	\item[Description: ]
		Push \oparg{object} onto \oparg{stack}.
	\item[Example(s): ]\begin{verbatim}

s:0> () 1 spush
s:1> pstack
(1)
s:1>
		\end{verbatim}
	\end{description}
\label{systemdict:stack}
\index{\stilop{}{stack}{}}
\item[{\stilop{--}{stack}{stack}}: ]
	\begin{description}\item[]
	\item[Input(s): ] None.
	\item[Output(s): ]
		\begin{description}\item[]
		\item[stack: ]
			An empty stack object.
		\end{description}
	\item[Errors(s): ] None.
	\item[Description: ]
		Create a new stack object and push it onto the operand stack.
	\item[Example(s): ]\begin{verbatim}

s:0> stack
s:1> pstack
()
		\end{verbatim}
	\end{description}
\end{description}

\subsection{threaddict}

\begin{longtable}{|r|l|l|p{4in}|}
\caption[threaddict summary]{threaddict summary by functional group} \\
\hline
Input(s) & Op/Proc/Var & Output(s) & Description \\
\hline \hline
%begin{latexonly}
\endfirsthead
\caption[]{\emph{continued}} \\
\hline
Input(s) & Op/Proc/Var & Output(s) & Description \\
\hline \hline \endhead
\hline
\multicolumn{4}{|l|}{Dictionary and dictionary stack operators} \\
\hline \hline
& {\bf \htmlref{errordict}{threaddict:errordict}} & & \\
\hline
& {\bf \htmlref{currenterror}{threaddict:currenterror}} & & \\
\hline
& {\bf \htmlref{userdict}{threaddict:userdict}} & & \\
\hline
& {\bf \htmlref{threaddict}{threaddict:threaddict}} & & \\
\hline
\end{longtable}

\subsection{userdict}

Each thread has its own userdict, which is not shared with any other threads.
userdict is meant to be used for general storage of definitions that do not need
to be shared among threads.  userdict starts out empty when a thread is
created.

\section{Tutorial}
