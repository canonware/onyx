%-*-mode:latex-*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% <Copyright = jasone>
% <License>
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Version: <Version>
%
% Definitions and front matter of Canonware Software Manual.
%              
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[10pt,titlepage]{book}
\usepackage[dvips]{graphicx}
\usepackage{longtable}
\usepackage{float}
\usepackage{html}
\usepackage{makeidx}
%begin{latexonly}
\usepackage{ncntrsbk}
\usepackage{fancyheadings}
\usepackage{ifthen}
%end{latexonly}

%begin{latexonly}
%
% Configure margins, line spacing, etc.
%
\setlength{\topmargin}{0in}
%\setlength{\headheight}{36pt}
\setlength{\headheight}{54pt}
\setlength{\headsep}{12pt}
\setlength{\topskip}{0in}
\setlength{\textheight}{8.5in}
\setlength{\oddsidemargin}{0in}
\setlength{\evensidemargin}{0in}
\setlength{\textwidth}{6.5in}
\setlength{\parindent}{0pt}
%\setlength{\parskip}{10pt}
\setlength{\parskip}{8pt}
%\setlength{\topsep}{0pt}
%\setlength{\partopsep}{0pt}
%\renewcommand{\baselinestretch}{1.3}
\renewcommand{\baselinestretch}{1.0}
%end{latexonly}

%
% Title page setup
%
\title{Canonware Software Manual, Version <Version>}
\author{Jason Evans}
\date{\today}

% Control what all ends up in the table of contents.
%\addtocounter{secnumdepth}{4}

%begin{latexonly}
% Use this to make sure chapter breaks look right.
\newcommand{\clearemptydoublepage}
	{\newpage \thispagestyle{empty} \cleardoublepage}

%
% Set up the standard page headers.
%
%\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
%\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
%\lhead[\bfseries\thepage]{\bfseries\rightmark}
%\rhead[\bfseries{Chapter \thechapter}]{\bfseries\thepage}
%\cfoot{}
%\setlength{\headrulewidth}{2pt}
%\chead[\bfseries{Canonware Software Manual}]{\bfseries{Jason Evans}}
%end{latexonly}

%begin{latexonly}
\newenvironment{capilist}
	{
		\raggedright
		\begin{list}{}
		{
			\listparindent 0pt
			\itemindent \listparindent
			\item\relax
		}
		\begin{description}
	}
	{
		\end{description}
		\end{list}
		\vspace{8pt}
	}
%end{latexonly}
\begin{htmlonly}
\newenvironment{capilist}
	{
		\begin{description}
		\begin{description}
	}
	{
		\end{description}
		\end{description}
	}
\end{htmlonly}

\newcommand{\citem}[1]{\bfseries #1: \normalfont

}
\newenvironment{capi}
	{\setlength{\parskip}{0pt}}
	{\setlength{\parskip}{8pt}}

\providecommand{\ifthenelse}[3]{ } % For latex2html.
\newcommand{\cfunc}[3][]{#1\ifthenelse{\equal{}{#1}}{}{ }{\em #2}(#3)}
\newcommand{\cvar}[1]{{\em #1}}
\newcommand{\ctype}[1]{#1}
\newcommand{\cppmacro}[3][]{#1\ifthenelse{\equal{}{#1}}{}{ }{\em #2}(#3)}
\newcommand{\cppdef}[1]{{\em #1}}
\newcommand{\binname}[1]{{\em #1}}
\newcommand{\libname}[1]{{\em #1}}
\newcommand{\filename}[1]{{\em #1}}
\newcommand{\classname}[1]{{\em #1}}
\newcommand{\dbgsym}[1]{{``#1''}}
\newcommand{\onyxop}[3]{{\em #1}\ifthenelse{\equal{}{#1}}{}{ }{\bf #2}\ifthenelse{\equal{}{#3}}{}{ }{\em #3}}
\newcommand{\oparg}[1]{{\em #1}}

% For printed versions, we need to limit the width of the operator summary
% tables, but for html there is no need do.
\newcommand{\optableformat}[1]{|r|l|l|p{#1in}|}

% TeX doesn't have '\', '<', '>', '|', and '~' in its text fonts.
\newcommand{\bs}{$\backslash$}
\newcommand{\lt}{$<$}
\newcommand{\gt}{$>$}
\newcommand{\pipe}{$|$}
\newcommand{\twid}{$\sim$}
\newcommand{\lb}{[}
\newcommand{\rb}{]}

% The build system does substitution of the YYY..ZZZ strings after the html
% is generated.
\begin{htmlonly}
\newcommand{\optableformat}[1]{|r|l|l|l|}
\newcommand{\bs}{YYYbsZZZ}
\newcommand{\lt}{<}
\newcommand{\gt}{>}
\newcommand{\pipe}{|}
%\newcommand{\twid}{~}
\newcommand{\lb}{YYYlbZZZ}
\newcommand{\rb}{YYYrbZZZ}
\end{htmlonly}

% Generate an index.
\makeindex

\begin{document}
\frontmatter
\pagestyle{plain}
\maketitle

\clearemptydoublepage
\begin{htmlonly}
\part*{Preface}
\end{htmlonly}
\begin{latexonly}
\chapter*{Preface}
\end{latexonly}
This manual primarily documents the Onyx programming language.  However,
Onyx is designed to be run either as a stand alone program or as an
embeddable interpreter, so the manual is organized into parts to document
different aspects of the implementation.

For distribution, news, and additional project information, see
\htmlurl{http://www.canonware.com/}.

\clearemptydoublepage
\tableofcontents
\begin{latexonly}
\listoftables
\end{latexonly}

%
% Setup for main body of document.
%
\mainmatter

%
% Set up the standard page headers.
%
%begin{latexonly}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\lhead[\bfseries\thepage]{\bfseries\rightmark}
\rhead[\bfseries{Chapter \thechapter}]{\bfseries\thepage}
\cfoot{}
\setlength{\headrulewidth}{2pt}
\chead[\bfseries{Canonware Software Manual}]{\bfseries{Jason Evans}}
\pagestyle{fancy}
%end{latexonly}
