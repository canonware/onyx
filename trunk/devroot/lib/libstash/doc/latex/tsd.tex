%-*-mode:latex-*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% <Copyright = jasone>
% <License>
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Version: <Version>
%
% tsd portion of Canonware Software Manual.
%              
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{tsd}
\label{tsd}
\index{\classname{tsd}{}}

The \classname{tsd} class implements thread-specific data.  A \classname{tsd}
instance can be created, then any number of threads can use that same instance
to store and retrieve a thread-specific pointer to data.

\subsubsection{API}
\begin{capi}
\label{tsd_new}
\index{\cfunc{tsd\_new}{}}
\citem{\cfunc[void]{tsd\_new}{cw\_tsd\_t *a\_tsd, void (*a\_func)(void *)}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_tsd: ]
			Pointer to space for a \classname{tsd}.
		\item[a\_func: ]
			Pointer to a cleanup function, or NULL.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Constructor.
	\end{capilist}
\label{tsd_delete}
\index{\cfunc{tsd\_delete}{}}
\citem{\cfunc[void]{tsd\_delete}{cw\_tsd\_t *a\_tsd}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_tsd: ]
			Pointer to a \classname{tsd}.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Destructor.
	\end{capilist}
\label{tsd_get}
\index{\cfunc{tsd\_get}{}}
\citem{\cfunc[void *]{tsd\_get}{cw\_tsd\_t *a\_tsd}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_tsd: ]
			Pointer to a \classname{tsd}.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[retval: ]
			Pointer to thread-specific data.
		\end{description}
	\item[Exception(s): ] None.
	\item[Description: ]
		Get thread-specific data pointer.
	\end{capilist}
\label{tsd_set}
\index{\cfunc{tsd\_set}{}}
\citem{\cfunc[]{tsd\_set}{cw\_tsd\_t *a\_tsd, void *a\_val}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_tsd: ]
			Pointer to a \classname{tsd}.
		\item[a\_val: ]
			Pointer to thread-specific data.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Set thread-specific data pointer.
	\end{capilist}
\end{capi}
