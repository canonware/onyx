%-*-mode:latex-*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% <Copyright = jasone>
% <License>
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Version: Onyx <Version = onyx>
%
% nxo_regex portion of Onyx Manual.
%              
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{nxo\_regex}
\label{nxo_regex}
\index{nxo_regex@\classname{nxo\_regex}{}}

The \classname{nxo\_regex} class is a subclass of the \classname{nxo} class.

\subsubsection{API}
\begin{capi}
\label{nxo_regex_new}
\index{nxo_regex_new@\cfunc{nxo\_regex\_new}{}}
\citem{\cfunc[cw\_nxn\_t]{nxo\_regex\_new}{cw\_nxo\_t *a\_nxo, cw\_nx\_t *a\_nx,
const cw\_uint8\_t *a\_pattern, cw\_uint32\_t a\_len, cw\_bool\_t a\_cont,
cw\_bool\_t a\_global, cw\_bool\_t a\_insensitive, cw\_bool\_t a\_multiline,
cw\_bool\_t a\_singleline}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_nxo: ]
			Pointer to a regex \classname{nxo}.
		\item[a\_nx: ]
			Pointer to an \classname{nx}.
		\item[a\_pattern: ]
			Pointer to a string that specifies a regular expression.
		\item[a\_len: ]
			Length of \cvar{a\_str}.
		\item[a\_cont: ]
			Continue where last successful match ended if TRUE.
		\item[a\_global: ]
			Continue where last match ended if TRUE.
		\item[a\_insensitive: ]
			Match with case insensitivity if TRUE.
		\item[a\_multiline: ]
			Treat input as a multi-line string if TRUE.
		\item[a\_singleline: ]
			Treat input as a single line, so that the dot
			metacharacter matches any character, including a
			newline.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[retval: ]
			\begin{description}\item[]
			\item[NXN\_ZERO: ] Success.
			\item[NXN\_regexerror: ] Regular expression error.
			\end{description}
		\end{description}
	\item[Exception(s): ]
		\begin{description}\item[]
		\item[\htmlref{CW\_ONYXX\_OOM}{CW_ONYXX_OOM}.]
		\end{description}
	\item[Description: ]
		Constructor.
	\end{capilist}
\label{nxo_regex_match}
\index{nxo_regex_match@\cfunc{nxo\_regex\_match}{}}
\citem{\cfunc[void]{nxo\_regex\_match}{cw\_nxo\_t *a\_nxo, cw\_nxo\_t 
*a\_thread, cw\_nxo\_t *a\_input, cw\_nxo\_t *r\_match}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_nxo: ]
			Pointer to a regex \classname{nxo}.
		\item[a\_thread: ]
			Pointer to a thread \classname{nxo}.
		\item[a\_input: ]
			Pointer to a string \classname{nxo}.
		\item[r\_match: ]
			Pointer to a \ctype{cw\_bool\_t}.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[*r\_match: ]
			\begin{description}\item[]
			\item[TRUE: ] Match successful.
			\item[FALSE: ] No match found.
			\end{description}
		\end{description}
	\item[Exception(s): ]
		\begin{description}\item[]
		\item[\htmlref{CW\_ONYXX\_OOM}{CW_ONYXX_OOM}.]
		\end{description}
	\item[Description: ]
		Look in \cvar{a\_input} for a match to the regex pointed to by
		\cvar{a\_nxo}.  As a side effect, set the thread's match cache,
		which can be queried via \cfunc{nxo\_regex\_submatch}{}.
	\end{capilist}
\label{nxo_regex_nonew_match}
\index{nxo_regex_nonew_match@\cfunc{nxo\_regex\_nonew\_match}{}}
\citem{\cfunc[cw\_nxn\_t]{nxo\_regex\_nonew\_match}{cw\_nxo\_t *a\_thread, const
cw\_uint8\_t *a\_pattern, cw\_uint32\_t a\_len, cw\_bool\_t a\_cont, cw\_bool\_t
a\_global, cw\_bool\_t a\_insensitive, cw\_bool\_t a\_multiline, cw\_bool\_t
a\_singleline, cw\_nxo\_t *a\_input, cw\_nxo\_t *r\_matches}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_thread: ]
			Pointer to a thread \classname{nxo}.
		\item[a\_pattern: ]
			Pointer to a string that specifies a regular expression.
		\item[a\_len: ]
			Length of \cvar{a\_str}.
		\item[a\_cont: ]
			Continue where last successful match ended if TRUE.
		\item[a\_global: ]
			Continue where last match ended if TRUE.
		\item[a\_insensitive: ]
			Match with case insensitivity if TRUE.
		\item[a\_multiline: ]
			Treat input as a multi-line string if TRUE.
		\item[a\_singleline: ]
			Treat input as a single line, so that the dot
			metacharacter matches any character, including a
			newline.
		\item[a\_input: ]
			Pointer to a string \classname{nxo}.
		\item[r\_match: ]
			Pointer to a \ctype{cw\_bool\_t}.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[retval: ]
			\begin{description}\item[]
			\item[NXN\_ZERO: ] Success.
			\item[NXN\_regexerror: ] Regular expression error.
			\end{description}
		\item[*r\_match: ]
			\begin{description}\item[]
			\item[TRUE: ] Match successful.
			\item[FALSE: ] No match found.
			\end{description}
		\end{description}
	\item[Exception(s): ]
		\begin{description}\item[]
		\item[\htmlref{CW\_ONYXX\_OOM}{CW_ONYXX_OOM}.]
		\end{description}
	\item[Description: ]
		Look in \cvar{a\_input} for a match to the regular expression
		specified by \cvar{a\_pattern}, \cvar{a\_len}, \cvar{a\_cont},
		\cvar{a\_global}, \cvar{a\_insensitive}, \cvar{a\_multiline},
		and \cvar{a\_singleline}.  As a side effect, set the thread's
		match cache, which can be queried via
		\cfunc{nxo\_regex\_submatch}{}.

		This function combines \cfunc{nxo\_regex\_new}{} and
		\cfunc{nxo\_regex\_match}{} in such a way that no Onyx object is
		created, thus providing a more efficient way of doing a one-off
		match.
	\end{capilist}
\label{nxo_regex_submatch}
\index{nxo_regex_submatch@\cfunc{nxo\_regex\_submatch}{}}
\citem{\cfunc[void]{nxo\_regex\_submatch}{cw\_nxo\_t  *a\_thread, cw\_uint32\_t
*a\_capture, cw\_nxo\_t *r\_match}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_thread: ]
			Pointer to a thread \classname{nxo}.
		\item[a\_capture: ]
			Index of captured subpattern to create a substring for:
			\begin{description}\item[]
			\item[0: ]
				Get substring of input text that matched the
				regular expression.
			\item[{\gt}0: ]
				Get substring of input text that matched the
				specified capturing subpattern.
			\end{description}
		\item[r\_match: ]
			Pointer to an \classname{nxo} to dup a substring
			reference to.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[*r\_match: ]
			An \classname{nxo}:
			\begin{description}\item[]
			\item[null: ] Subpattern not matched.
			\item[string: ]
				A substring of text that corresponds to
				the captured subpattern specified by
				\cvar{a\_capture}.
			\end{description}
		\end{description}
	\item[Exception(s): ]
		\begin{description}\item[]
		\item[\htmlref{CW\_ONYXX\_OOM}{CW_ONYXX_OOM}.]
		\end{description}
	\item[Description: ]
		Create a substring using the calling thread's match cache that
		corresponds to capturing subpattern \cvar{a\_capture}.
	\end{capilist}
\end{capi}
