%-*-mode:latex-*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% <Copyright = jasone>
% <License>
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Version: <Version>
%
% rwl portion of Canonware Software Manual.
%              
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{rwl}
\label{rwl}
\index{rwl@\classname{rwl}{}}

The \classname{rwl} class implements read/write locks.  Multiple simultaneous
readers are allowed, but only one writer (with no readers) is allowed.  This
implementation toggles back and forth between read locks and write locks to
assure deterministic locking.

\subsubsection{API}
\begin{capi}
\label{rwl_new}
\index{rwl_new@\cfunc{rwl\_new}{}}
\citem{\cfunc[void]{rwl\_new}{cw\_rwl\_t *a\_rwl}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_rwl: ]
			Pointer to space for a \classname{rwl}.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Constructor.
	\end{capilist}
\label{rwl_delete}
\index{rwl_delete@\cfunc{rwl\_delete}{}}
\citem{\cfunc[void]{rwl\_delete}{cw\_rwl\_t *a\_rwl}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_rwl: ]
			Pointer to a \classname{rwl}.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Destructor.
	\end{capilist}
\label{rwl_rlock}
\index{rwl_rlock@\cfunc{rwl\_rlock}{}}
\citem{\cfunc[void]{rwl\_rlock}{cw\_rwl\_t *a\_rwl}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_rwl: ]
			Pointer to a \classname{rwl}.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Acquire a read lock.
	\end{capilist}
\label{rwl_runlock}
\index{rwl_runlock@\cfunc{rwl\_runlock}{}}
\citem{\cfunc[void]{rwl\_runlock}{cw\_rwl\_t *a\_rwl}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_rwl: ]
			Pointer to a \classname{rwl}.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Release a read lock.
	\end{capilist}
\label{rwl_wlock}
\index{rwl_wlock@\cfunc{rwl\_wlock}{}}
\citem{\cfunc[void]{rwl\_wlock}{cw\_rwl\_t *a\_rwl}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_rwl: ]
			Pointer to a \classname{rwl}.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Acquire a write lock.
	\end{capilist}
\label{rwl_wunlock}
\index{rwl_wunlock@\cfunc{rwl\_wunlock}{}}
\citem{\cfunc[void]{rwl\_wunlock}{cw\_rwl\_t *a\_rwl}}
	\begin{capilist}
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_rwl: ]
			Pointer to a \classname{rwl}.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Release a write lock.
	\end{capilist}
\end{capi}
