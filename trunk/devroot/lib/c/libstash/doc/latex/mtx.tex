%-*-mode:latex-*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% <Copyright = jasone>
% <License>
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Version: <Version>
%
% mtx portion of Canonware Software Manual.
%              
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{mtx}
\label{mtx}
\index{\classname{mtx}{}}

The \classname{mtx} class implements typical mutual exclusion locks.  Only one
thread can hold a lock at a time, and attempting to attain the lock while
already owning it has undefined results.

\subsubsection{API}
\begin{description}
\label{mtx_new}
\index{\cfunc{mtx\_new}{}}
\item[{\cfunc[void]{mtx\_new}{cw\_mtx\_t *a\_mtx}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_mtx: ]
			Pointer to space for a \classname{mtx}.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Constructor.
	\end{description}
\label{mtx_delete}
\index{\cfunc{mtx\_delete}{}}
\item[{\cfunc[void]{mtx\_delete}{cw\_mtx\_t *a\_mtx}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_mtx: ]
			Pointer to a \classname{mtx}.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Destructor.
	\end{description}
\label{mtx_lock}
\index{\cfunc{mtx\_lock}{}}
\item[{\cfunc[void]{mtx\_lock}{cw\_mtx\_t *a\_mtx}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_mtx: ]
			Pointer to a \classname{mtx}.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Lock \cvar{a\_mtx}.
	\end{description}
\label{mtx_trylock}
\index{\cfunc{mtx\_trylock}{}}
\item[{\cfunc[cw\_bool\_t]{mtx\_trylock}{cw\_mtx\_t *a\_mtx}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_mtx: ]
			Pointer to a \classname{mtx}.
		\end{description}
	\item[Output(s): ]
		\begin{description}\item[]
		\item[retval: ]
			\begin{description}\item[]
			\item[FALSE: ] Success.
			\item[TRUE: ] Failure.
			\end{description}
		\end{description}
	\item[Exception(s): ] None.
	\item[Description: ]
		Try to lock \cvar{a\_mtx}, but return immediately instead of
		blocking if \cvar{a\_mtx} is already locked.
	\end{description}
\label{mtx_unlock}
\index{\cfunc{mtx\_unlock}{}}
\item[{\cfunc[void]{mtx\_unlock}{cw\_mtx\_t *a\_mtx}}: ]
	\begin{description}\item[]
	\item[Input(s): ]
		\begin{description}\item[]
		\item[a\_mtx: ]
			Pointer to a \classname{mtx}.
		\end{description}
	\item[Output(s): ] None.
	\item[Exception(s): ] None.
	\item[Description: ]
		Unlock \cvar{a\_mtx}.
	\end{description}
\end{description}
