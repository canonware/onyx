################################################################################
#
# <Copyright = jasone>
#
# <License>
#
################################################################################
#
# Version: Onyx <Version = onyx>
#
################################################################################

`Test begin\n' print flush

[
    <stdout </POLLOUT false>>
    <stdout </POLLOUT false> stderr </POLLOUT false>>
    <stdout </POLLWRNORM false>>
    <stdout </POLLOUT true /garbage `ignore me'>>
    <
	stdout <
	    /POLLIN false
	    /POLLRDNORM false
	    /POLLRDBAND false
	    /POLLPRI false
	    /POLLOUT false
	    /POLLWRNORM false
	    /POLLWRBAND false
	>
    >
    <
	stdout <
	    /POLLIN true
	    /POLLRDNORM true
	    /POLLRDBAND true
	    /POLLPRI true
	    /POLLOUT true
	    /POLLWRNORM true
	    /POLLWRBAND true
	>
    >
    <
	stdout <
	    /POLLIN false
	    /POLLRDNORM false
	    /POLLRDBAND false
	    /POLLPRI false
	    /POLLOUT false
	    /POLLWRNORM false
	    /POLLWRBAND false
	>
	stderr <
	    /POLLIN false
	    /POLLRDNORM false
	    /POLLRDBAND false
	    /POLLPRI false
	    /POLLOUT false
	    /POLLWRNORM false
	    /POLLWRBAND false
	>
    >
]{
    `in:\n' print
    dup 2 sprint
    dup 0 poll
    `out:\n' print
    1 sprint 2 sprint
} foreach

`Test end\n' print
pstack
