/* -*- mode: c ; c-file-style: "canonware-c-style" -*-
 * This file is automatically generated.
 ******************************************************************************
 *
 * <Copyright = jasone>
 * <License>
 *
 ******************************************************************************
 *
 * Version: <Version>
 *
 ******************************************************************************/

static void
onyx_nxcode(cw_nxo_t *a_thread)
{
    /* Push strings onto ostack before running the rest of the code.  This
     * hackery is necessary since there is no simple way to make the build
     * system embed cpp macros into onyx code files. */
    cw_onyx_code(a_thread, "`"
		 CW_ONYX_RPATH
		 "'`"
		 CW_ONYX_MPATH
		 "'{[ /ONYX_MPATH /ONYX_RPATH ] {envdict 1 index known {envdict 1 index get dup `:.:' search {3 1 roll pop pop `' ne {`:.:' exch catenate} if} {pop `:.:' exch catenate} ifelse dup 3 index `:' exch catenate search {pop pop `' ne {dup dup length 4 index length dup 3 1 roll sub exch getinterval 3 index ne {`:' catenate 3 2 roll catenate} {3 2 roll pop} ifelse} {3 2 roll pop} ifelse} {pop `:' catenate 3 2 roll catenate} ifelse setenv} {exch `:.:' exch catenate setenv} ifelse} foreach systemdict begin /require {dup type /stringtype ne {/typecheck throw} if envdict /ONYX_RPATH get {`:' search {exch pop `/' catenate 2 index catenate dup `f' test {3 1 roll pop pop `r' open cvx eval false exit} {pop} ifelse} {`/' catenate exch catenate dup `f' test {`r' open cvx eval false} {pop true} ifelse exit} ifelse} loop {/undefinedfilename throw} if} def /mrequire {1 index type /stringtype ne {/typecheck throw} if dup type /stringtype ne {/typecheck throw} if envdict /ONYX_MPATH get {`:' search {exch pop `/' catenate 3 index catenate dup `f' test {exch pop exch 3 2 roll pop modload false exit} {pop} ifelse} {`/' catenate 3 2 roll catenate dup `f' test {exch modload false} {pop pop true} ifelse exit} ifelse} loop {/undefinedfilename throw} if} def end}bind eval");
}
