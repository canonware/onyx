%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% <Copyright = jasone>
%
% <License>
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Version: Onyx <Version = onyx>
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%
% Test the GC with lots of rolls going on.
%

`Test begin\n' print flush

% Push 10 strings onto the stack.
0 10 {1 add dup cvs exch} repeat pop

50 {
	100 {
		100 {
			% Roll by increasing amounts.
			-10 1 10 {
				5 exch roll
			} for
		} repeat
	
		gcdict /collect get eval
	} repeat
	`.' print flush
} bind repeat
`\n' print

`Test end\n' print
